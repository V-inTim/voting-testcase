# Тестовое задание на java (Swoyo)
## Условия
Сделать клиент-серверное приложение, которое позволяет создавать голосование в
различных разделах.
Приложение должно поддерживать:
- Запуск в режиме клиента и режиме сервера
- TCP / UDP взаимодейтсвие между сервером и клиентом с использованием
библиотеки Netty
- В режиме сервера уметь принимать команды от нескольких клиентов
одновременно
- Логирование в режиме сервера
- Unit тесты
- Клиентские команды:
  - login -u=username – подключиться к серверу с указанным именем
  пользователя (все остальные команды доступны только после выполнения
  login)
  - create topic -n=<topic> - создает новый раздел c уникальным именем
  заданным в параметре -n
  - view - показывает список уже созданных разделов в формате: <topic (votes
  in topic=<count>)>
    - опциональный параметр -t=<topic> - в этом случае команда показывает
    список голосований в конкретном разделе
  - create vote -t=<topic> - запускает создание нового голосования в разделе
    указанном в параметре -t
    Для создания голосования (команда create vote -t=<topic>) нужно
    последовательно запросить у пользователя:
    - название (уникальное имя)
    - тему голосования (описание)
    - количество вариантов ответа
    - варианты ответа
  - view -t=<topic> -v=<vote> - отображает информацию по голосованию
    - тема голосования
    - варианты ответа и количество пользователей выбравших данный
    вариант
  - vote -t=<topic> -v=<vote> - запускает выбор ответа в голосовании для
    текущего пользователя
    Для этого приложение должно
    - вывести варианты ответа для данного голосования
    - запросить у пользователя выбор ответа
  - delete -t=topic -v=<vote> - удалить голосование с именем <vote> из <topic>
    (удалить может только пользователь его создавший)
  - exit - завершение работы программы
- Серверные команды
  - load <filename> - загрузка данных из файла
  - save <filename> – сохранение в файл всех созданных разделов и
  принадлежащим им голосований + их результатов (в любом удобном
  формате).
  - exit - завершение работы программ

## Запуск программы
```java
mvn clean install
java -jar target/voting-1.0-SNAPSHOT.jar server // запуск в режиме сервера
java -jar target/voting-1.0-SNAPSHOT.jar client // запуск в режиме клиента
```

## Заметки
1) Реализованы все комманды сервера и клиента.
2) В задании не прописано использование бд, поэтому данные хранятся в процессе работы программы в классе Storage (потокобезопасный singleton).
3) Сервер и клиент Netty запускаются в отдельных потоках. CLI сервера и клиента в основном.
4) Передача данных в формате json с помощью библиотеки Jackson.
5) Сохранение в файл и загрузка с помощью неё же.
6) Логи настроены на вывод в консоль на сервере (log4j), тесты в некотором количестве написаны.